{% extends "layout.html" %}

{% block body %}
<br>
<br>
<br>
<div class="jumbotron">
    <h1 class="display-3"> Päivitä äänestystä: </h1>

    <form method="POST" action="{{ url_for('votings_edit', voting_id=voting.id) }}">
        <table>
            <td>
                <tr>
                    <td>
                        <h3> Kysymys: </h3>
                    </td>
                    <td>
                        {% if error == "Tällä nimellä on jo äänestys!" %}
                        {{ form.name(class="form-control is-invalid", placeholder=voting.name) }}
                        {% for e in error %} {{ e }}
                        {% endfor %}
                        {% else %}

                        {% if not form.name.errors %}
                        {{ form.name(class="form-control", placeholder=voting.name)}}
                        {% else %}
                        {{ form.name(class="form-control is-invalid", placeholder= voting.name ) }}
                        {% for error in form.name.errors %}
                        {{ error }}
                        {% endfor %}
                        {% endif %}
                        {% endif %}
                        <br>
                    </td>
                <tr></tr>
            <td>
            </td>
            <td>
                {{ form.nameDescription(class="col-form-label col-form-label-sm", placeholder=" Kuvaus (vapaaehtoinen)") }}
                <br>
                <br>

            </td>
            <td>

            </td>
            </tr>
            <br>
            <tr>
            <tr>
                <td>
                    <br>
                    <h4> Vaihtoehto 1.&nbsp;&nbsp; </h4>
                </td>
                <td>
                    <br>
                    {% if error == "Jokainen vaihtoehto pitää olla eri!" %}
                    {{ form.option1(class="form-control is-invalid", placeholder=options[0].name) }}
                    {% for e in error %} {{ e }}
                    {% endfor %}
                    {% else %}

                    {% if not form.option1.errors %}
                    {{ form.option1(class="form-control", placeholder=options[0].name)}}
                    {% else %}
                    {{ form.option1(class="form-control is-invalid", placeholder=options[0].name) }}
                    {% for error in form.option1.errors %}
                    {{ error }}
                    {% endfor %}
                    {% endif %}
                    {% endif %}
                    <br>
                </td>
            <tr></tr>
            <td>
            </td>
            <td>
                {{ form.option1Description(class="col-form-label col-form-label-sm", placeholder=" Kuvaus (vapaaehtoinen)") }}
                <br>
                <br>
            </td>
            </tr>
            <tr>
                <td>
                    <br>
                    <h4> Vaihtoehto 2. </h4>
                </td>
                <td>
                    <br>
                    {% if error == "Jokainen vaihtoehto pitää olla eri!" %}
                    {{ form.option2(class="form-control is-invalid", placeholder=options[1].name) }}
                    {% for e in error %} {{ e }}
                    {% endfor %}
                    {% else %}

                    {% if not form.option2.errors %}
                    {{ form.option2(class="form-control", placeholder=options[1].name)}}
                    {% else %}
                    {{ form.option2(class="form-control is-invalid", placeholder=options[1].name) }}
                    {% for error in form.option2.errors %}
                    {{ error }}
                    {% endfor %}
                    {% endif %}
                    {% endif %}
                    <br>
                </td>
            <tr></tr>
            <td>
            </td>
            <td>
                {{ form.option2Description(class="col-form-label col-form-label-sm", placeholder=" Kuvaus (vapaaehtoinen)") }}
                <br>
                <br>
            </td>
            </tr>
            <tr>
                <td>
                    <br>
                    <h4> Vaihtoehto 3. </h4>
                </td>
                <td>
                    <br>
                    {% if error == "Jokainen vaihtoehto pitää olla eri!" %}
                    {{ form.option3(class="form-control is-invalid", placeholder=options[2].name) }}
                    {% for e in error %} {{ e }}
                    {% endfor %}
                    {% else %}

                    {% if not form.option3.errors %}
                    {{ form.option3(class="form-control", placeholder=options[2].name) }}
                    {% else %}
                    {{ form.option3(class="form-control is-invalid", placeholder=options[2].name) }}
                    {% for error in form.option3.errors %}
                    {{ error }}
                    {% endfor %}
                    {% endif %}
                    {% endif %}
                    <br>
                </td>
            <tr></tr>
            <td>
            </td>
            <td>
                {{ form.option3Description(class="col-form-label col-form-label-sm", placeholder=" Kuvaus (vapaaehtoinen)") }}

                <br>
            </td>
            </tr>
            </td>
        </table>
        <hr class="my-4">
        <tr>
            <br>
            <h4> Mitä tuloksia haluat, että muut näkevät?</h4>
            {{ form.results }}
            {% for error in form.results.errors %}
            <div class="alert alert-dismissible alert-danger">
                </a> Muistathan valita jonkun vaihtoehdoista!
            </div>
            {% endfor %}

        </tr>
        <tr>
            <hr class="my-4">
            <br>
            <h4> Äänestys vain kirjautuneille käyttäjille?</h4>
            {{ form.anonymous }}
            {% for error in form.anonymous.errors %}
            <div class="alert alert-dismissible alert-danger">
                </a> Muistathan valita jonkun vaihtoehdoista!
            </div>
            {% endfor %}
        </tr>
        <hr class="my-4">
        <p> Editointivaiheessa -></p>
        <h4> Valitse aloituspäivä: </h4>
        <div class="container">
            <div class="row">
                <div class='col-sm-6'>
                    <div class="form-group">
                        <div class='input-group date' id='datetimepicker1'>
                            <input type='text' class="form-control" />
                            <span class="input-group-addon">
                                <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                        </div>
                    </div>
                </div>
                <script type="text/javascript">
                    $(function () {
                        $('#datetimepicker1').datetimepicker();
                    });
                </script>
            </div>
        </div>
        <h4> Valitse lopetuspäivä: </h4>
        <div class="container">
            <div class="row">
                <div class='col-sm-6'>
                    <div class="form-group">
                        <div class='input-group date' id='datetimepicker1'>
                            <input type='text' class="form-control" />
                            <span class="input-group-addon">
                                <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                        </div>
                    </div>
                </div>
                <script type="text/javascript">
                    $(function () {
                        $('#datetimepicker1').datetimepicker();
                    });
                </script>
            </div>
        </div>
        <p>
            <-- </p>
                <tr>
                    <td colspan="3">
                        <input type="submit" , class="btn btn-primary" , value="Lisää!" />

                    </td>
                </tr>
    </form>
</div>
{% endblock %}