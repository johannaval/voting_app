{% extends "layout.html" %}

{% block body %}
<br>
<br>
<br>
<div class="jumbotron">
    <h1 class="display-3"> Päivitä äänestystä: </h1>

    <form method="POST" action="{{ url_for('votings_edit', voting_id=voting.id) }}">
        <table>
            <tr>
                <th>
                    <h3> Kysymys: &nbsp;&nbsp; </h3>
                </th>
            </tr>
            <tr>
                {% if error == "Tällä nimellä on jo äänestys!" %}
                <th> {{ form.name(class="form-control is-invalid", placeholder=voting.name) }} </th>
                <th> {% for e in error %} {{ e }}
                    {% endfor %} </th>

                {% else %}
                {% if not form.name.errors %}
                <th> {{ form.name(class="form-control", placeholder=voting.name)}} </th>
                {% else %}
                <th> {{ form.name(class="form-control is-invalid", placeholder=voting.name) }} </th>
                <th> {% for error in form.name.errors %} {{ error }}
                    {% endfor %} </th>
                {% endif %}
                {% endif %}
            </tr>

            <tr>
                <th> {{ form.nameDescription(class="col-form-label col-form-label-sm", placeholder=voting.description) }}
                </th>
            </tr>

            <tr>
                <th> &nbsp;
                    <h4> Vaihtoehto 1.&nbsp;&nbsp; </h4>
                </th>
            </tr>

            <tr>
                {% if error == "Jokainen vaihtoehto pitää olla eri!" %}
                <th> {{ form.option1(class="form-control is-invalid", placeholder=options[0].name) }} </th>
                <th> {% for e in error %} {{ e }}
                    {% endfor %} </th>

                {% else %}
                {% if not form.option1.errors %}
                <th> {{ form.option1(class="form-control", placeholder=options[0].name)}} </th>
                {% else %}
                <th> {{ form.option1(class="form-control is-invalid", placeholder=options[0].name) }} </th>
                <th> {% for error in form.option1.errors %} {{ error }}
                    {% endfor %} </th>
                {% endif %}
                {% endif %}
            </tr>

            <tr>
                <th>
                    {{ form.option1Description(class="col-form-label col-form-label-sm", placeholder=options[0].description) }}
                </th>
            </tr>

            <tr>
                <th> &nbsp;
                    <h4> Vaihtoehto 2. </h4>
                </th>
            </tr>

            <tr>
                {% if error == "Jokainen vaihtoehto pitää olla eri!" %}
                <th> {{ form.option2(class="form-control is-invalid", placeholder=options[1].name) }} </th>
                <th> {% for e in error %} {{ e }}
                    {% endfor %} </th>

                {% else %}
                {% if not form.option2.errors %}
                <th> {{ form.option2(class="form-control", placeholder=options[1].name)}} </th>
                {% else %}
                <th> {{ form.option2(class="form-control is-invalid", placeholder=options[1].name) }} </th>
                <th> {% for error in form.option2.errors %} {{ error }}
                    {% endfor %} </th>
                {% endif %}
                {% endif %}
            </tr>

            <tr>
                <th>
                    {{ form.option2Description(class="col-form-label col-form-label-sm", placeholder=options[1].description) }}
                </th>
            </tr>
            <tr>
                <th>
                    &nbsp;
                    <h4> Vaihtoehto 3. </h4>
                </th>
            </tr>

            <tr>
                {% if error == "Jokainen vaihtoehto pitää olla eri!" %}
                <th>{{ form.option3(class="form-control is-invalid", placeholder=options[2].name) }} </th>
                <th> {% for e in error %} {{ e }}
                    {% endfor %} </th>

                {% else %}
                {% if not form.option3.errors %}
                <th> {{ form.option3(class="form-control", placeholder=options[2].name)}} </th>
                {% else %}
                <th> {{ form.option3(class="form-control is-invalid", placeholder=options[2].name) }} </th>
                <th> {% for error in form.option3.errors %} {{ error }}
                    {% endfor %} </th>
                {% endif %}
                {% endif %}
            </tr>

            <tr>
                <th>
                    {{ form.option3Description(class="col-form-label col-form-label-sm", placeholder=options[2].description) }}
                </th>
            </tr>


        </table>







        <tr>
            <hr class="my-4">

            <h4> Mitä tuloksia haluat, että muut näkevät?</h4>

            <th> {{ form.results }} </th>
            <th> {% for error in form.results.errors %} </th>
            <div class="alert alert-dismissible alert-danger">
                <th> </a> Muistathan valita jonkun vaihtoehdoista! </th>
            </div>
            {% endfor %}
        </tr>


        <tr>
            <hr class="my-4">


            <th>
                <h4> Äänestys vain kirjautuneille käyttäjille?</h4>
            </th>
        </tr>
        <tr>

            <th> {{ form.anonymous }} </th>
            <th> {% for error in form.anonymous.errors %} </th>
            <div class="alert alert-dismissible alert-danger">
                <th> </a> Muistathan valita jonkun vaihtoehdoista! </th>
            </div>
            {% endfor %}
        </tr>





        <hr class="my-4">
        <p> Editointivaiheessa -></p>
        <h4> Valitse aloituspäivä: </h4>
        <div class="container">
            <div class="row">
                <div class='col-sm-6'>
                    <div class="form-group">
                        <div class='input-group date' id='datetimepicker1'>
                            <input type='text' class="form-control" />
                            <span class="input-group-addon">
                                <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                        </div>
                    </div>
                </div>
                <script type="text/javascript">
                    $(function () {
                        $('#datetimepicker1').datetimepicker();
                    });
                </script>
            </div>
        </div>
        <h4> Valitse lopetuspäivä: </h4>
        <div class="container">
            <div class="row">
                <div class='col-sm-6'>
                    <div class="form-group">
                        <div class='input-group date' id='datetimepicker1'>
                            <input type='text' class="form-control" />
                            <span class="input-group-addon">
                                <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                        </div>
                    </div>
                </div>
                <script type="text/javascript">
                    $(function () {
                        $('#datetimepicker1').datetimepicker();
                    });
                </script>
            </div>
        </div>
        <p>
            <-- </p>


                <td colspan="3">
                    <input type="submit" , class="btn btn-primary" , value="Lisää!" />
                </td>

    </form>
</div>
{% endblock %}